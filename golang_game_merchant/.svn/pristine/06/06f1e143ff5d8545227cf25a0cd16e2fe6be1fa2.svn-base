package model

import "github.com/jinzhu/gorm"

type (
	Merchant struct {
		Id            int
		MerchantName  string
		Url           string
		ContactName   string
		ContactPhone  string
		ContactEmail  string
		Code          string
		Balance       float64
		CreateTime    int64
		EffectTime    int64
		ExpireTime    int64
		Bail          float64
		UpdateTime    int64
		WithdrawWin   float64
		WithdrawMax   float64
		DockingPeople string
		Appid         string
		Secret        string
	}
)

func GetMerchantById(db *gorm.DB, id int) (*Merchant, error) {
	var merchant Merchant
	if err := db.Table(`merchant`).Where(`id=?`, id).Find(&merchant).Error; err != nil {
		if err == gorm.ErrRecordNotFound {
			return nil, ErrRecordNotFound
		}
		return nil, err
	}
	return &merchant, nil
}
